<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/css/tuperfil.css" />
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
  <!----===== Boxicons CSS ===== -->
  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
  <title>Perfil</title>
</head>

<body>
  <nav></nav>
  <main>
    <div class="bloque">
      <!--En esta seccion va la foto del usuario y el nombre del usuario-->
      <section class="primera-parte">
        <img th:if="${perfil.foto != null}" style="max-height: 200px; border-radius:100%"
          th:src="${'/foto/usuario/'+ perfil.id}" alt="">
        <img th:if="${perfil.foto == null}" style="max-height: 200px; border-radius:100%" src="/assets/img/birrita.png"
          alt="">
        <br>
        <input class="textarea" type="text" th:if="${session.usuariosession != null}"
          th:value="${session.usuariosession.nombre + ' ' + session.usuariosession.apellido}" />
        <input type="hidden" name="id" th:value="${session.usuariosession.id}" />
        <br>
        <button type="button" class="btn btn-success " disabled th:if="${perfil.alta}==true">Activo</button>
        <button type="button" class="btn btn-danger " disabled th:if="${perfil.alta}==false">Desactivo</button>
      </section>
      <!--En esta seccion van los datos-->
      
      <div th:replace="principalFinal::mensajes"></div>

    </div>

      <section class="segunda-parte">
        <form action="/usuario/editar-perfil" method="POST" enctype="multipart/form-data">
          <p th:if="${error != null}" th:text="${error}" style=color:red;></p>
          <input type="hidden" name="id" th:value="${perfil.id}" />
          <label>Nombre</label>
          <input class="form-control" type="text" name="nombre" th:value="${perfil.nombre}" />
          <br>
          <label>Apellido</label>
          <input class="form-control" type="text" name="apellido" th:value="${perfil.apellido}" />
          <br>
          <label>DNI</label>
          <input class="form-control" type="text" name="dni" th:value="${perfil.dni}" />


          <div class="cvu">
            <svg class="icono" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
              <path d="M7 21h-4v-11h4v11zm7-11h-4v11h4v-11zm7 0h-4v11h4v-11zm2 12h-22v2h22v-2zm-23-13h24l-12-9-12 9z" />
            </svg>
            <p class="pgrande">Mi cvu</p>
            <br>
          </div>
          <input class="form-control textarea" type="text" name="cvu" style="width:60%;" th:value="${perfil.cuenta.cvu}"
            readonly="readonly" />

            <br>
          <label>Foto</label>
          <input type="file" class="form-control" name="archivo" />

          <div class="mail">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
              <path
                d="M0 3v18h24v-18h-24zm21.518 2l-9.518 7.713-9.518-7.713h19.036zm-19.518 14v-11.817l10 8.104 10-8.104v11.817h-20z" />
            </svg>
            <p class="pgrande">Email</p>
          </div>
          <input class="form-control"  type="text" name="mail" style="width:60%;" th:value="${perfil.mail}" />

          <div class="contrasena">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
              <path
                d="M12.451 17.337l-2.451 2.663h-2v2h-2v2h-6v-5l6.865-6.949c1.08 2.424 3.095 4.336 5.586 5.286zm11.549-9.337c0 4.418-3.582 8-8 8s-8-3.582-8-8 3.582-8 8-8 8 3.582 8 8zm-3-3c0-1.104-.896-2-2-2s-2 .896-2 2 .896 2 2 2 2-.896 2-2z" />
            </svg>
            <p class="pgrande">Clave</p>
          </div>
          <!--Hay que charlar esto-->
          <input class="form-control"  type="password" name="clave1" style="width:60%;" th:value="${clave1}" />
          <br>
          <label>Repetir Clave</label>
          <input type="password" class="form-control"  name="clave2" style="width:60%;" th:value="${clave2}" />



          <div class="fecha-nacimiento">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
              <path
                d="M12.451 17.337l-2.451 2.663h-2v2h-2v2h-6v-5l6.865-6.949c1.08 2.424 3.095 4.336 5.586 5.286zm11.549-9.337c0 4.418-3.582 8-8 8s-8-3.582-8-8 3.582-8 8-8 8 3.582 8 8zm-3-3c0-1.104-.896-2-2-2s-2 .896-2 2 .896 2 2 2 2-.896 2-2z" />
            </svg>
            <p class="pgrande">Fecha de Nacimiento</p>
          </div>
          <input type="date" class="form-control"  name="fechaNacimiento" th:value="${perfil.fechaNacimiento}" />

          <br>


          <br />
          <button type="submit" class="btn btn-primary btn-xl rounded mt-2"
          style="float:inline-start; margin-bottom: 8px; padding: 8px;">Actualizar Perfil</button>
          <a th:href="@{/inicio}" class="btn btn-info btn-xl rounded mt-2"
            style="float:inline-start; margin-bottom: 8px; padding: 8px;">Volver</a>
     
        </form>
       
        <form th:if= "${perfil.alta}==true" action="/usuario/bajaUsuario" method="post">
          <input type="hidden" name="id" th:value="${session.usuariosession.id}" />
          <button type="submit" class="btn btn-danger btn-xl rounded mt-2"
          style="float:inline-start; margin-bottom: 8px; padding: 8px;">Baja</button>
        </form> 
        <form th:if= "${perfil.alta}==false" action="/usuario/altaUsuario" method="post">
          <input type="hidden" name="id" th:value="${session.usuariosession.id}" />
          <button type="submit" class="btn btn-success btn-xl rounded mt-2"
          style="float:inline-start; margin-bottom: 8px; padding: 8px;">Alta</button>
        </form> 
  
        <div class="terminos">
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
            <path
              d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.25 16.518l-4.5-4.319 1.396-1.435 3.078 2.937 6.105-6.218 1.421 1.409-7.5 7.626z" />
          </svg>
          <p class="pgrande">Termino y condiciones</p>
          <!--Para dejarlo mas completo? -->
        </div>
        <div class="faqs">
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
            <path
              d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 18.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25s-.559 1.25-1.25 1.25zm1.961-5.928c-.904.975-.947 1.514-.935 2.178h-2.005c-.007-1.475.02-2.125 1.431-3.468.573-.544 1.025-.975.962-1.821-.058-.805-.73-1.226-1.365-1.226-.709 0-1.538.527-1.538 2.013h-2.01c0-2.4 1.409-3.95 3.59-3.95 1.036 0 1.942.339 2.55.955.57.578.865 1.372.854 2.298-.016 1.383-.857 2.291-1.534 3.021z" />
          </svg>
          <a href="/faqs" class="pgrande">FAQs</a>
          <!--Preguntas que tiene el usuario, tengo un html de faqs desp lo subo-->
        </div>
        <div class="salir">
          <a href="/logout" class="pgrande">Salir</a>
          <!--Te lleva al index-->
        </div>
      </section>
    </div>
  </main>

  <script src="/js/script.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"></script>
</body>

</html>

<!--AGREGAR DNI Y FECHA DE NACIMIENTO-->